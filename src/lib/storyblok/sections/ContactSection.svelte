<script>
	import { storyblokEditable, StoryblokComponent, renderRichText } from '@storyblok/svelte';
	import SubscribeForm from '$lib/components/SubscribeForm.svelte';
	let { blok } = $props();
	let content = $state(renderRichText(blok.bio));
</script>

<section id="contact" use:storyblokEditable={blok}>
	<div class="container mx-auto py-24 lg:py-40">
		{#each blok.intro as blok}
			<StoryblokComponent {blok} />
		{/each}
		<div class="mt-12 lg:mt-20">
			<img src={blok.image.filename} alt="Contact" class="w-full" />
			<div class="contact-bg px-4 py-8 lg:px-12 lg:py-14">
				<div class="flex flex-col justify-between gap-8 lg:flex-row">
					<div class="order-2 flex max-w-2xl flex-col gap-6 lg:order-1">
						<div class="prose prose-p:text-lg prose-p:text-secondary-text-light">
							{@html content}
						</div>
						<div class="grid grid-cols-3 items-center gap-8 sm:flex">
							<a href={blok.fb_link.cached_url} aria-label="Facebook" class="block">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									fill="none"
									class="h-8 w-auto"
									viewBox="0 0 24 24"
									><path
										fill="#E7E1DA"
										d="M13.345 5.138c0-.966.863-1.313 1.828-1.313.966 0 1.997.3 1.997.3L17.79.45S16.476 0 13.344 0c-1.922 0-3.037.731-3.853 1.81-.769 1.021-.797 2.662-.797 3.721v2.41H6.211v3.59h2.484V24h4.65V11.531h3.685l.272-3.59h-3.957V5.138Z"
									/></svg
								>
							</a>
							<a href={blok.ig_link.cached_url} aria-label="Instagram" class="block">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									fill="none"
									class="h-8 w-auto"
									viewBox="0 0 24 24"
									><g clip-path="url(#a)"
										><path
											fill="#E7E1DA"
											d="M19.36 0H4.64A4.645 4.645 0 0 0 0 4.64V19.37c0 2.56 2.081 4.64 4.64 4.64h14.72c2.559 0 4.64-2.08 4.64-4.64V4.63C23.99 2.081 21.91 0 19.36 0Zm1.33 2.766h.535V6.834l-4.06.01-.009-4.069 3.535-.01ZM8.57 9.534a4.233 4.233 0 0 1 3.422-1.762c1.406 0 2.653.694 3.421 1.762.507.694.797 1.547.797 2.466a4.235 4.235 0 0 1-4.228 4.228c-2.334 0-4.21-1.903-4.21-4.228 0-.919.3-1.772.798-2.466Zm13.087 9.825a2.3 2.3 0 0 1-2.297 2.297H4.641a2.3 2.3 0 0 1-2.297-2.297V9.534h3.581A6.532 6.532 0 0 0 5.438 12 6.57 6.57 0 0 0 12 18.563 6.57 6.57 0 0 0 18.563 12c0-.872-.179-1.706-.488-2.466h3.581v9.825Z"
										/></g
									><defs><clipPath id="a"><path fill="#fff" d="M0 0h24v24H0z" /></clipPath></defs
									></svg
								>
							</a>
							<a href={blok.bc_link.cached_url} aria-label="Bandcamp" class="block">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									width="36"
									height="36"
									fill="none"
									class="h-8 w-auto"
									><path
										fill="#E7E1DA"
										d="M2.047 21.796c-.515.009-.954.22-1.275.684H.755v-2.204H.012v6.063h.7v-.549H.73c.152.245.465.676 1.216.676 1.503 0 1.942-1.41 1.942-2.466 0-1.24-.667-2.204-1.84-2.204Zm-.118 4.028c-.473 0-1.208-.312-1.208-1.486 0-.718.118-1.875 1.19-1.875 1.149 0 1.208 1.09 1.208 1.655 0 .971-.38 1.706-1.19 1.706ZM7.779 25.571V23.03c0-1.131-1.283-1.233-1.638-1.233-1.09 0-1.79.414-1.824 1.47h.684c.05-.339.17-.853 1.014-.853.7 0 1.038.252 1.038.717 0 .44-.211.507-.388.524l-1.225.151c-1.233.152-1.342 1.014-1.342 1.385 0 .76.574 1.275 1.384 1.275.862 0 1.31-.405 1.596-.717.025.337.127.675.785.675.17 0 .279-.05.406-.084v-.54a1.385 1.385 0 0 1-.245.033c-.152 0-.245-.076-.245-.262Zm-.743-.76c0 .591-.676 1.039-1.368 1.039-.557 0-.802-.287-.802-.769 0-.557.582-.666.946-.718.92-.118 1.105-.185 1.224-.278v.726ZM10.669 21.797c-.76 0-1.174.515-1.334.751h-.017v-.624h-.7v4.416h.742v-2.407c0-1.2.743-1.469 1.165-1.469.727 0 .946.389.946 1.157v2.719h.743v-3.006c0-1.258-.861-1.537-1.545-1.537ZM15.811 22.548h-.016c-.178-.253-.516-.751-1.318-.751-1.173 0-1.84.962-1.84 2.203 0 1.056.439 2.466 1.942 2.466.43 0 .937-.135 1.258-.735h.017v.608h.7v-6.063h-.742v2.272Zm-1.216 3.276c-.81 0-1.19-.735-1.19-1.705 0-.566.059-1.656 1.207-1.656 1.073 0 1.19 1.157 1.19 1.875 0 1.174-.734 1.486-1.207 1.486ZM19.213 22.463c.625 0 .954.355 1.047.946h.718c-.06-.768-.499-1.613-1.656-1.613-1.46 0-2.119 1.09-2.119 2.457 0 1.275.735 2.212 1.976 2.212 1.292 0 1.723-.988 1.799-1.688h-.718c-.127.675-.558 1.047-1.056 1.047-1.021 0-1.207-.938-1.207-1.698 0-.785.296-1.663 1.216-1.663ZM24.736 25.571V23.03c0-1.131-1.283-1.233-1.638-1.233-1.09 0-1.79.414-1.824 1.47h.684c.05-.339.169-.853 1.014-.853.7 0 1.038.252 1.038.717 0 .44-.211.507-.388.524l-1.225.151c-1.233.152-1.342 1.014-1.342 1.385 0 .76.573 1.275 1.384 1.275.861 0 1.31-.405 1.596-.717.026.337.127.675.786.675.168 0 .278-.05.405-.084v-.54a1.381 1.381 0 0 1-.245.033c-.152 0-.245-.076-.245-.262Zm-.743-.76c0 .591-.676 1.039-1.368 1.039-.558 0-.802-.287-.802-.769 0-.557.582-.666.945-.718.921-.118 1.107-.185 1.225-.278v.726ZM30.146 21.797c-.684 0-.98.304-1.35.718-.127-.237-.38-.718-1.174-.718-.794 0-1.174.515-1.334.751h-.017v-.624h-.7v4.416h.742v-2.407c0-1.2.743-1.469 1.165-1.469.549 0 .693.447.693.819v3.057h.743v-2.694c0-.591.414-1.182 1.038-1.182.633 0 .82.414.82 1.022v2.854h.742v-3.057c0-1.242-.895-1.486-1.368-1.486ZM34.158 21.797c-.802 0-1.14.498-1.317.751h-.017v-.624h-.701v6.163h.743v-2.212h.017c.195.313.583.591 1.174.591 1.503 0 1.942-1.41 1.942-2.465 0-1.241-.667-2.204-1.841-2.204Zm-.118 4.028c-.473 0-1.207-.313-1.207-1.487 0-.717.118-1.874 1.19-1.874 1.149 0 1.208 1.09 1.208 1.655 0 .97-.38 1.706-1.19 1.706ZM0 20.109h14.49l5.636-12.195H5.636L0 20.11Z"
									/><path
										fill="#E7E1DA"
										d="M24.097 10.881c-1.005.017-1.862.429-2.488 1.335h-.034V7.914h-1.45v11.834h1.368v-1.072h.033c.297.478.907 1.319 2.373 1.319 2.934 0 3.791-2.752 3.791-4.812 0-2.423-1.302-4.302-3.593-4.302Zm-.23 7.861c-.923 0-2.357-.61-2.357-2.9 0-1.401.23-3.659 2.323-3.659 2.242 0 2.357 2.126 2.357 3.23 0 1.895-.742 3.33-2.324 3.33ZM32.543 12.183c1.22 0 1.863.692 2.044 1.846h1.4c-.115-1.5-.972-3.148-3.23-3.148-2.85 0-4.136 2.126-4.136 4.796 0 2.489 1.434 4.318 3.856 4.318 2.522 0 3.363-1.928 3.51-3.296h-1.4c-.248 1.318-1.088 2.044-2.06 2.044-1.994 0-2.357-1.83-2.357-3.313 0-1.533.577-3.247 2.373-3.247Z"
									/></svg
								>
							</a>
							<a href={blok.spotify_link.cached_url} aria-label="Spotify" class="block">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									fill="none"
									class="h-8 w-auto"
									viewBox="0 0 24 24"
									><g fill="#E7E1DA" clip-path="url(#a)"
										><path
											d="M16.554 15.537c-3.994-1.846-9.584-1.03-9.82-.994a.963.963 0 0 0 .287 1.905c.053-.008 5.25-.768 8.725.838a.964.964 0 0 0 .808-1.749ZM17.676 12.068C13.14 9.97 6.779 10.9 6.511 10.94a.963.963 0 0 0 .287 1.905c.06-.009 6.064-.88 10.07.97a.96.96 0 0 0 1.279-.47.964.964 0 0 0-.471-1.278ZM18.43 8.443C13.418 6.128 6.381 7.155 6.084 7.2a.963.963 0 0 0 .287 1.905c.067-.01 6.768-.983 11.249 1.087a.964.964 0 1 0 .808-1.749Z"
										/><path
											d="M12 0C5.383 0 0 5.383 0 12c0 6.616 5.383 12 12 12s12-5.384 12-12c0-6.617-5.383-12-12-12Zm0 22.073C6.446 22.073 1.927 17.554 1.927 12 1.927 6.445 6.446 1.927 12 1.927S22.073 6.445 22.073 12c0 5.554-4.519 10.073-10.073 10.073Z"
										/></g
									><defs><clipPath id="a"><path fill="#fff" d="M0 0h24v24H0z" /></clipPath></defs
									></svg
								>
							</a>
							<a href={blok.yt_link.cached_url} aria-label="YouTube" class="block">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									width="24"
									height="24"
									viewBox="0 0 24 24"
									fill="none"
								>
									<path
										fill="#E7E1DA"
										d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"
									/>
								</svg>
							</a>
							<a href={blok.bit_link.cached_url} aria-label="BandIsInTown" class="block">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									fill="none"
									class="h-12 w-auto"
									viewBox="0 0 48 32"
									><path
										fill="#E7E1DA"
										d="M7.022 25.117h-.013v.431H6.38v-4.436h.628v1.94h.013c.19-.317.512-.526 1-.526.783 0 1.443.582 1.443 1.558 0 .977-.66 1.56-1.443 1.56-.488 0-.814-.21-1-.527Zm1.776-1.035c0-.558-.359-.95-.91-.95-.552 0-.91.392-.91.95 0 .557.355.953.91.953.554 0 .91-.392.91-.95v-.003ZM9.897 24.085c0-.976.66-1.559 1.443-1.559.488 0 .814.21 1.001.526h.012v-.43h.63v2.927h-.63v-.432h-.012c-.19.318-.513.526-1.001.526-.782 0-1.443-.582-1.443-1.558Zm2.489 0c0-.557-.36-.95-.91-.95-.552 0-.913.393-.913.95 0 .557.36.95.912.95s.908-.392.908-.95h.003ZM16.468 23.748v1.8h-.628v-1.695c0-.5-.256-.71-.68-.71-.461 0-.79.273-.79 1.001v1.4h-.628v-2.926h.629v.443h.013a1.042 1.042 0 0 1 .968-.538c.635.002 1.116.338 1.116 1.225ZM17.035 24.085c0-.976.66-1.558 1.443-1.558.488 0 .815.209 1 .526h.014v-1.94h.627v4.436h-.627v-.431h-.014c-.185.317-.512.526-1 .526-.783 0-1.443-.582-1.443-1.558Zm2.488 0c0-.557-.359-.95-.91-.95-.552 0-.911.393-.911.95 0 .558.36.951.91.951.552 0 .914-.392.914-.95h-.003ZM20.625 25.333l.286-.55c.283.175.609.273.943.282.3 0 .46-.089.46-.273 0-.12-.063-.21-.313-.33l-.539-.26c-.448-.208-.622-.506-.622-.847 0-.539.404-.83 1.048-.83.354.007.703.084 1.026.228l-.256.538a2.06 2.06 0 0 0-.789-.188c-.276 0-.366.09-.366.222 0 .133.084.228.34.349l.552.26c.38.177.59.43.59.824 0 .596-.462.886-1.154.886-.422 0-.838-.107-1.206-.311ZM23.537 22.621h.629v2.927h-.629v-2.927ZM23.85 21.933a.38.38 0 0 0 .383-.377.38.38 0 0 0-.382-.377.38.38 0 0 0-.382.377.38.38 0 0 0 .382.377ZM27.664 23.749v1.8h-.629v-1.695c0-.5-.256-.71-.68-.71-.461 0-.789.273-.789 1.001v1.4h-.628V22.62h.628v.443h.014c.094-.17.234-.311.405-.406.171-.096.366-.141.562-.133.636.003 1.117.34 1.117 1.226ZM29.208 23.146v1.534c0 .21.09.304.308.304h.153v.57h-.285c-.52 0-.802-.271-.802-.752v-1.656h-.525v-.525h.52v-1.173h.628v1.173h.61v.525h-.607ZM33.286 24.085c0 .9-.694 1.558-1.62 1.558-.926 0-1.62-.658-1.62-1.558s.693-1.559 1.62-1.559c.927 0 1.62.66 1.62 1.559Zm-2.579 0c0 .577.392.95.953.95.56 0 .952-.376.952-.95s-.39-.95-.952-.95c-.563 0-.953.373-.953.95ZM37.978 22.621l-.995 2.927h-.577l-.705-2.097-.712 2.097h-.578l-.993-2.927h.693l.596 2.11.686-2.11h.614l.686 2.11.597-2.11h.688ZM41.125 23.75v1.799h-.629v-1.694c0-.501-.256-.711-.68-.711-.461 0-.789.273-.789 1.001v1.4h-.629V22.62h.63v.443h.013c.094-.17.234-.31.405-.404.171-.095.366-.14.561-.132.637 0 1.118.337 1.118 1.223ZM23.29 6.49h-2.78v3.662h2.78V6.49ZM26.996 6.49h-2.78v3.662h2.78V6.49ZM30.701 3.744h-2.78v6.408h2.78V3.744Z"
									/><path
										fill="#E7E1DA"
										d="M20.51 11.067v2.747h7.412v.916h-8.339V3.744h-2.778v13.732h13.897v-6.409H20.51Z"
									/></svg
								>
							</a>
						</div>
						<div class="flex flex-col gap-1">
							<p class="font-semibold text-primary-text-light">
								{blok.hive_title}
							</p>
							<p class="text-secondary-text-light">
								{blok.hive_description}
							</p>
							<SubscribeForm />
						</div>
					</div>
					<div class="order-1 lg:order-2">
						<div>
							<p class="font-header text-2xl font-semibold text-primary-text-light uppercase">
								Hath is:
							</p>
							<ul class="mt-4">
								<li class="text-xl text-secondary-text-light">AJ Viana - Drums</li>
								<li class="mt-2 text-xl text-secondary-text-light">
									Frank Albanese - Guitars / Vocals
								</li>
								<li class="mt-2 text-xl text-secondary-text-light">Peter Brown - Guitars</li>
								<li class="mt-2 text-xl text-secondary-text-light">Greg Nottis - Bass / Vocals</li>
							</ul>
						</div>
						<div class="mt-8 lg:mt-12">
							<p class="font-header text-2xl font-semibold text-primary-text-light uppercase">
								Booking & Press
							</p>
							<a
								href={blok.booking_email.cached_url}
								class="text-xl text-secondary-text-light underline"
								>{blok.booking_email.cached_url}</a
							>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<style>
	#contact {
		background: #f7f5f3 url('/img/bg/contact-section-bg.avif');
		background-blend-mode: hard-light;
		background-size: cover, cover;
		background-position: center, center;
		background-repeat: no-repeat, no-repeat;
	}
	.contact-bg {
		background-image: url('/img/bg/contact-bg.avif');
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
	}
</style>
